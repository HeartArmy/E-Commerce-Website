{"ast":null,"code":"var _jsxFileName = \"/Users/mohammedarham/Downloads/amazon-clone/src/pages/Address.js\",\n    _s = $RefreshSig$();\n\nimport { Button } from '@material-ui/core';\nimport React from 'react';\nimport './Address.css';\nimport { useForm } from \"react-hook-form\";\nimport { db } from '../Firebase';\nimport { useStateValue } from '../StateProvider';\nimport { useHistory } from 'react-router-dom';\nimport mercado from \"../images/mercado_logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Address() {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [{\n    user\n  }, dispatch] = useStateValue();\n  const history = useHistory();\n  console.log(\"user id is\", user);\n\n  const onSubmit = formData => {\n    if (user) {\n      db.collection(\"users\").doc(user.uid).set({\n        address: formData.address,\n        city: formData.city,\n        country: formData.country,\n        phone: formData.phone\n      });\n      dispatch({\n        type: 'SET_ADDRESS',\n        item: {\n          address: formData.address,\n          city: formData.city,\n          country: formData.country,\n          phone: formData.phone\n        }\n      });\n      history.push('/payment');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"address\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"address__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: mercado,\n          alt: \"logo\",\n          style: ({\n            height: \"150px\"\n          }, {\n            width: \"140px\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"SIGN IN TO PURCHASE ITEM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"address\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"address__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"ADD YOUR DELIVERY ADDRESS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"address\",\n            type: \"text\",\n            placeholder: \"Home address\",\n            ref: register({\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"city\",\n            type: \"text\",\n            placeholder: \"City\",\n            ref: register({\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"country\",\n            type: \"text\",\n            placeholder: \"Country\",\n            ref: register({\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"phone\",\n            type: \"text\",\n            placeholder: \"PhoneNumber\",\n            ref: register({\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            type: \"submit\",\n            className: \"address__send\",\n            children: \"ADD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Address, \"5/u/1G3r8KRcmE2MsOOQAbkAQLg=\", false, function () {\n  return [useForm, useStateValue, useHistory];\n});\n\n_c = Address;\nexport default Address;\n\nvar _c;\n\n$RefreshReg$(_c, \"Address\");","map":{"version":3,"sources":["/Users/mohammedarham/Downloads/amazon-clone/src/pages/Address.js"],"names":["Button","React","useForm","db","useStateValue","useHistory","mercado","Address","register","handleSubmit","errors","user","dispatch","history","console","log","onSubmit","formData","collection","doc","uid","set","address","city","country","phone","type","item","push","height","width","required"],"mappings":"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","sourcesContent":["import { Button } from '@material-ui/core';\r\nimport React from 'react';\r\nimport './Address.css';\r\nimport {useForm} from \"react-hook-form\";\r\nimport { db } from '../Firebase';\r\nimport { useStateValue } from '../StateProvider';\r\nimport { useHistory } from 'react-router-dom';\r\nimport mercado from \"../images/mercado_logo.png\";\r\n\r\nfunction Address() {\r\n    const {register, handleSubmit, errors} = useForm();\r\n    const [{user}, dispatch]=useStateValue();\r\n    const history = useHistory()\r\n    console.log(\"user id is\", user)\r\n    const onSubmit = (formData)=>{\r\n        if(user){\r\n            db.collection(\"users\").doc(user.uid)\r\n            .set({\r\n                address:formData.address,\r\n                city:formData.city,\r\n                country: formData.country,\r\n                phone: formData.phone,\r\n            })\r\n            dispatch({\r\n                type:'SET_ADDRESS',\r\n                item:{\r\n                    address:formData.address,\r\n                    city:formData.city,\r\n                    country: formData.country,\r\n                    phone: formData.phone,\r\n                }\r\n            })\r\n            history.push('/payment');\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n       {!user ? (<div className=\"address\">\r\n            <div className=\"address__container\">\r\n                <img src={mercado} alt=\"logo\" style={{height:\"150px\"}, {width:\"140px\"}}/>\r\n                <h1>SIGN IN TO PURCHASE ITEM</h1>\r\n            </div>\r\n        </div>):(\r\n            <div className=\"address\">\r\n            <div className=\"address__container\">\r\n                <h1>ADD YOUR DELIVERY ADDRESS</h1>\r\n                <form onSubmit={handleSubmit(onSubmit)} >\r\n                    <input name=\"address\" type=\"text\" placeholder=\"Home address\"  ref={register({required:true})}/>\r\n                    <input name=\"city\" type=\"text\" placeholder=\"City\" ref={register({required:true})} />\r\n                    <input name=\"country\" type=\"text\" placeholder=\"Country\" ref={register({required:true})} />\r\n                    <input name=\"phone\" type=\"text\" placeholder=\"PhoneNumber\" ref={register({required:true})} />\r\n                    <Button variant=\"contained\"\r\n                    color=\"primary\"\r\n                    type=\"submit\" className=\"address__send\">ADD</Button>\r\n                </form>\r\n            </div>\r\n\r\n            \r\n        </div>)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Address\r\n"]},"metadata":{},"sourceType":"module"}